<div>
  <button class="float-right" mat-stroked-button color="primary" (click)="onPrint()">
    Print {{numRecordsToPrint}} records
  </button>
  <button class="float-right" mat-stroked-button color="primary" (click)="onClear()">Clear</button>
</div>

<div *ngIf="userActions$ | async as users">
  <h3>Select record(s) to print:</h3>
  <table style="width: 100%; margin-top: 10px; font-size: 0.8em;" border="1px">
    <tr>
      <th></th>
      <th>Name</th>
      <th>Address</th>
    </tr>
    <tr *ngFor="let user of users" id="tr_{{user.id}}">
      <td style="width: 2%">{{user.id + 1}}</td>
      <td style="width: 23%">
        <div style="display: block"><mat-checkbox style="display: block"
                      [value]="user.id"
                      (change)="onUserToggled($event)"
                      [checked]="user.checked"
        >{{user.name}}</mat-checkbox></div>
      </td>
      <td style="width: 75%" >
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button *ngFor="let address of user.addresses"
                            (change)="onAddressSelected($event)"
                            [checked]="(user.selectedAddress == address.type)"
                            value="{{user.id}}_{{address.type}}"
          ><b>{{address.type}}: </b>{{address.address}}</mat-radio-button>
        </mat-radio-group>
      </td>
    </tr>
  </table>
</div>